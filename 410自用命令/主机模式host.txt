è¿›å…¥ vi /etc/init.d/set_usb_role

è¾“å…¥i å¤åˆ¶ä¸‹é¢ğŸ‘‡ğŸ»ç²˜è´´
#!/bin/sh /etc/rc.common

START=99
USE_PROCD=1

start_service() {
    procd_open_instance
    procd_set_param command /bin/true
    procd_close_instance
    echo host > /sys/class/udc/ci_hdrc.0/device/driver/ci_hdrc.0/role
}

stop_service() {
    echo device > /sys/class/udc/ci_hdrc.0/device/driver/ci_hdrc.0/role
}

è¾“å…¥esc

è¾“å…¥:wq
å¤åˆ¶ä¸‹é¢ä¸¤æ¡å‘½ä»¤æƒé™å’Œå¼€æœºè‡ªå¯ï¼
chmod +x /etc/init.d/set_usb_role

/etc/init.d/set_usb_role enable

